(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define(["vue"],t):"object"===typeof exports?exports["cqc"]=t(require("vue")):(e["cqc"]=e["cqc"]||{},e["cqc"]["preview-img"]=t(e["vue"]))})(self,(function(e){return function(){"use strict";var t={1242:function(e,t,n){n.d(t,{default:function(){return c}});var r=n(441),o={name:"CqcIcon",props:{icon:{type:String}},setup(e){return()=>(0,r.createVNode)("svg",{class:"cqc-icon","aria-hidden":"true"},[(0,r.createVNode)("use",{"xlink:href":`#icon-${e.icon}`},null)])},install:e=>e.component(o.name,o)},c=o},3744:function(e,t){t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n}},441:function(t){t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var c=n[e]={exports:{}};return t[e](c,c.exports,r),c.exports}!function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var o={};return function(){r.d(o,{default:function(){return h}});var e=r(441);const t={class:"cqc-preview-img-title"},n=["src"],c=["disabled"],i=["disabled"];function l(r,o,l,a,s,d){const u=(0,e.resolveComponent)("Icon");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{class:"cqc-preview-img",onClick:o[3]||(o[3]=(...e)=>r.handleClose&&r.handleClose(...e))},[(0,e.createElementVNode)("div",{class:"cqc-preview-img-content",onClick:o[2]||(o[2]=(0,e.withModifiers)((()=>{}),["stop"])),style:(0,e.normalizeStyle)({transform:r.transform})},[(0,e.createElementVNode)("div",t,(0,e.toDisplayString)(r.current+1)+" / "+(0,e.toDisplayString)(r.imgArr.length),1),(0,e.createElementVNode)("div",{class:"cqc-preview-img-wrap",style:(0,e.normalizeStyle)({width:r.width+"px",height:r.height+"px"})},[(0,e.createElementVNode)("div",{class:"cqc-preview-img-list",style:(0,e.normalizeStyle)({transform:`translate(${r.translate}px)`})},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.imgArr,((t,o)=>((0,e.openBlock)(),(0,e.createElementBlock)("img",{key:o,class:"cqc-preview-img-item",style:(0,e.normalizeStyle)({width:r.width+"px",height:r.height+"px"}),src:t},null,12,n)))),128))],4)],4),(0,e.createVNode)(u,{icon:"guanbi1",class:"cqc-preview-img-close",onClick:(0,e.withModifiers)(r.handleClose,["stop"])},null,8,["onClick"]),(0,e.createElementVNode)("button",{class:"cqc-preview-img-btn cqc-preview-img-prev",onClick:o[0]||(o[0]=(0,e.withModifiers)((e=>r.handleChangeIndex(r.current+1)),["stop"])),disabled:r.current===r.imgArr.length-1||0===r.imgArr.length},[(0,e.createVNode)(u,{icon:"left"})],8,c),(0,e.createElementVNode)("button",{class:"cqc-preview-img-btn cqc-preview-img-next",onClick:o[1]||(o[1]=(0,e.withModifiers)((e=>r.handleChangeIndex(r.current-1)),["stop"])),disabled:0===r.current||0===r.imgArr.length},[(0,e.createVNode)(u,{icon:"right"})],8,i)],4)])}var a=r(1242),s={imgArr:{type:Array,default:()=>[]},index:{type:Number,default:0},width:{type:Number,default:600},height:{type:Number,default:400},modelClose:{type:Boolean,default:!0},closeCb:Function},d={name:"CqcPreviewImg",props:s,components:{Icon:a["default"]},setup(t){const n=(0,e.reactive)({height:t.height,width:t.width,transform:"scale(0.3)",imgArr:t.imgArr,current:t.index,translate:0}),r={handleClose(){n.transform="scale(0.3)",setTimeout((()=>{t.closeCb&&t.closeCb()}),300)},handleChangeIndex(e){const r=n.imgArr.length;e>r-1&&(e=r-1),e<0&&(e=0),n.current=e,n.translate=-t.width*e}};return r.handleChangeIndex(n.current),(0,e.onMounted)((()=>{setTimeout((()=>{n.transform="scale(1)"}),0)})),{...r,...(0,e.toRefs)(n)}}},u=r(3744);const m=(0,u.Z)(d,[["render",l]]);var p=m;function f(t,n={}){const r=document.createElement("div");let o=null;n.closeCb=()=>{o.unmount(),document.body.removeChild(r)},o=(0,e.createApp)(p,{imgArr:t,...n}),o.mount(r),document.body.appendChild(r)}var h=f}(),o=o["default"],o}()}));